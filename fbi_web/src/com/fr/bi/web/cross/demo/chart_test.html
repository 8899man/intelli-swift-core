<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Chart</title>
    <script src="http://localhost:8080/WebReport/ReportServer?op=emb&resource=mobile.js"></script>
    <script src="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/web/core/js/VanChartWrapper.js"></script>
    <script src="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/mobile/js/appChart.js"></script>
    <script src="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/bi/web/js/third/es5-sham.js"></script>
    <script src="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/bi/web/js/third/raphael.js"></script>
    <script src="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/bi/web/js/third/leaflet.js"></script>
    <link href="http://localhost:8080/WebReport/ReportServer?op=resource&resource=/com/fr/bi/web/css/base/third/leaflet.css"
          rel="stylesheet">
</head>
<body>
<div id='container' style="position:absolute; right: 0; bottom: 0; left: 0; top: 0;"></div>
<script>
    var vanCharts;

    var data = JSON.parse("{\"t\":{\"c\":[{\"c\":[{\"n\":\"090972c6b796b96f\"}],\"n\":\"分期付款\"},{\"c\":[{\"n\":\"090972c6b796b96f\"}],\"n\":\"一次性付款\"}]},\"l\":{\"s\":{\"s\":[277876430],\"c\":[{\"s\":[122384830]},{\"s\":[155491600]}]},\"c\":[{\"s\":{\"s\":[19485000],\"c\":[{\"s\":[7255000]},{\"s\":[12230000]}]},\"n\":\"长期协议\"},{\"s\":{\"s\":[24779420],\"c\":[{\"s\":[9822820]},{\"s\":[14956600]}]},\"n\":\"长期协议订单\"},{\"s\":{\"s\":[11665800],\"c\":[{\"s\":[7510000]},{\"s\":[4155800]}]},\"n\":\"服务协议\"},{\"s\":{\"s\":[221946210],\"c\":[{\"s\":[97797010]},{\"s\":[124149200]}]},\"n\":\"购买合同\"}]}}");
    var widget = JSON.parse("{\"dimensions\":{\"090972c6b796b96f\":{\"_src\":{\"id\":\"9bf678f3852b707b\",\"table_id\":\"488c94077cc570ba\",\"field_id\":\"9bf678f3852b707b\"},\"type\":2,\"name\":\"合同金额\",\"used\":true},\"60d13f503748dff8\":{\"type\":1,\"sort\":{\"sort_target\":\"60d13f503748dff8\",\"type\":0},\"used\":true,\"name\":\"合同付款类型\",\"_src\":{\"id\":\"860cff3e5f4becb2\",\"table_id\":\"488c94077cc570ba\",\"field_id\":\"860cff3e5f4becb2\"},\"dimension_map\":{\"090972c6b796b96f\":{\"_src\":{\"id\":\"860cff3e5f4becb2\",\"table_id\":\"488c94077cc570ba\",\"field_id\":\"860cff3e5f4becb2\"},\"target_relation\":[[{\"foreignKey\":{\"table_id\":\"488c94077cc570ba\",\"field_id\":\"9bf678f3852b707b\"},\"primaryKey\":{\"table_id\":\"488c94077cc570ba\",\"field_id\":\"860cff3e5f4becb2\"}}]]}}},\"3bb997e5309dc252\":{\"dimension_map\":{\"090972c6b796b96f\":{\"_src\":{\"id\":\"d421025dd458c7ef\",\"table_id\":\"488c94077cc570ba\",\"field_id\":\"d421025dd458c7ef\"},\"target_relation\":[[{\"foreignKey\":{\"table_id\":\"488c94077cc570ba\",\"field_id\":\"9bf678f3852b707b\"},\"primaryKey\":{\"table_id\":\"488c94077cc570ba\",\"field_id\":\"d421025dd458c7ef\"}}]]}},\"_src\":{\"id\":\"d421025dd458c7ef\",\"table_id\":\"488c94077cc570ba\",\"field_id\":\"d421025dd458c7ef\"},\"sort\":{\"sort_target\":\"3bb997e5309dc252\",\"type\":0},\"used\":true,\"type\":1,\"settings\":{},\"name\":\"合同类型\",\"group\":{}}},\"expander\":{\"x\":{\"type\":false,\"value\":[[]]},\"y\":{\"type\":false,\"value\":[[]]}},\"linkages\":[{\"to\":\"b8562f656a3864d3\",\"from\":\"090972c6b796b96f\"}],\"settings\":{\"dashboard_number_level\":1,\"max_scale\":\"\",\"chart_legend\":4,\"style_conditions\":[{\"color\":\"#65b3ee\",\"range\":{\"min\":\"0\",\"closemin\":true,\"max\":\"100\",\"closemax\":false},\"cid\":\"26d2503de214f07b\"},{\"color\":\"#95e1aa\",\"range\":{\"min\":\"100\",\"closemin\":true,\"max\":\"200\",\"closemax\":false},\"cid\":\"565966ae79810b00\"},{\"color\":\"#f8d08e\",\"range\":{\"min\":\"200\",\"closemin\":true,\"max\":\"300\",\"closemax\":true},\"cid\":\"af1406d8a824b2b6\"}],\"chart_legend_limit_height\":\"20%\",\"show_percentage\":1,\"chart_dashboard_type\":11,\"number_of_pointer\":1,\"transfer_filter\":true,\"auto_custom\":1,\"dashboard_unit\":\"\",\"min_scale\":\"\"},\"type\":29,\"clicked\":{},\"_page_\":{},\"view\":{\"10000\":[\"3bb997e5309dc252\"],\"20000\":[\"60d13f503748dff8\"],\"30000\":[\"090972c6b796b96f\"]},\"filter\":{\"filter_type\":80,\"filter_value\":[]},\"filter_value\":{},\"page\":-1,\"init_time\":1470381967769,\"bounds\":{\"top\":0,\"width\":400,\"left\":267,\"height\":342},\"name\":\"统计组件1\"}");

    vanCharts = VanCharts.init(document.getElementById('container'));
    var options = Data.Utils.convertDataToChartData(data, widget);
    vanCharts.setOptions(options);

</script>
</body>
</html>
